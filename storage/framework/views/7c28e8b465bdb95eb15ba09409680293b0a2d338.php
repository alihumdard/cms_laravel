<?php $__env->startSection('content'); ?><div id="media-container"><div class="row mb-2"><div class="col-md-8"><form action="" method="get" class="form-inline"><input type="text" class="form-control w-25" name="search" placeholder="<?php echo e(trans('cms::app.search_by_name')); ?>" autocomplete="off"><select name="type" class="form-control w-25 ml-1"><option value=""><?php echo e(trans('cms::app.all_type')); ?></option> <?php $__currentLoopData = $fileTypes; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $key => $val): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?><option value="<?php echo e($key); ?>" <?php echo e($type == $key ? 'selected' : ''); ?>><?php echo e(strtoupper($key)); ?></option> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </select> <button type="submit" class="btn btn-primary ml-1"><?php echo e(trans('cms::app.search')); ?></button></form></div><div class="col-md-4"><div class="btn-group float-right"><a href="javascript:void(0)" class="btn btn-success" data-toggle="modal" data-target="#add-folder-modal"><i class="fa fa-plus"></i> <?php echo e(trans('cms::app.add_folder')); ?></a> <a href="javascript:void(0)" class="btn btn-success" data-toggle="modal" data-target="#upload-modal"><i class="fa fa-cloud-upload"></i> <?php echo e(trans('cms::app.upload')); ?></a></div></div></div><div class="row mt-5"><div class="col-md-9"><div class="list-media"><ul class="media-list"><?php $__currentLoopData = $mediaFolders; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $item): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php $__env->startComponent('cms::backend.media.components.item', ['item' => $item]); ?> <?php echo $__env->renderComponent(); ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php $__currentLoopData = $mediaFiles; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $item): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php $__env->startComponent('cms::backend.media.components.item', ['item' => $item]); ?> <?php echo $__env->renderComponent(); ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?></ul></div><div class="mt-3"><?php echo e($mediaFiles->appends(request()->query())->links()); ?></div></div><div class="col-md-3" id="preview-file"><div class="preview"><i class="fa fa-file-image-o"></i></div><p class="text-center"><?php echo e(trans('cms::app.media_setting.click_file_to_view_info')); ?></p></div></div></div> <?php $__env->stopSection(); ?> <?php $__env->startSection('footer'); ?> <template id="media-detail-template"><div class="box-image"><img src="{url}" alt="" class="preview-image"></div><div class="mt-2 mb-3"><a href="<?php echo e(str_replace('__ID__', '{id}', route('admin.media.download', ['__ID__']))); ?>"><?php echo e(trans('cms::app.download')); ?></a> <a href="javascript:void(0)" class="text-danger delete-file" data-id="{id}" data-is_file="{is_file}" data-name="{name}" ><?php echo e(trans('cms::app.delete')); ?></a></div><form action="<?php echo e(str_replace('__ID__', '{id}', route('admin.media.update', ['__ID__']))); ?>" method="post" class="form-ajax" > <?php echo method_field('put'); ?> <input type="hidden" name="is_file" value="{is_file}"> <?php echo e(Field::text(trans('cms::app.name'), 'name', ['value' => '{name}'])); ?> <?php echo e(Field::text(trans('cms::app.url'), 'url', ['value' => '{url}', 'disabled' => true])); ?><table class="table"><tbody><tr><td><?php echo e(trans('cms::app.extension')); ?></td><td>{extension}</td></tr><tr><td><?php echo e(trans('cms::app.size')); ?></td><td>{size}</td></tr><tr><td><?php echo e(trans('cms::app.last_update')); ?></td><td>{updated}</td></tr></tbody></table><button type="submit" class="btn btn-primary mb-2"><?php echo e(trans('cms::app.save')); ?></button></form></template> <?php echo $__env->make('cms::backend.media.components.add_modal', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?> <?php echo $__env->make('cms::backend.media.components.upload_modal', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><script>Dropzone.autoDiscover=false;$(document).ready(function(){new Dropzone("#uploadForm",{paramName:"upload",uploadMultiple:false,parallelUploads:5,timeout:0,clickable:'#upload-button',dictDefaultMessage:"<?php echo e(trans('cms::filemanager.message-drop')); ?>",init:function(){this.on('success',function(file,response){if(response=='OK'){window.location="";}else{this.defaultOptions.error(file,response.join('\n'));}});},headers:{'Authorization':"Bearer <?php echo e(csrf_token()); ?>"},acceptedFiles:"<?php echo e(implode(',', $mimeTypes)); ?>",maxFilesize:parseInt("<?php echo e($maxSize); ?>"),chunking:true,chunkSize:1048576,});});function add_folder_success(form){window.location="";}</script><?php $__env->stopSection(); ?> <?php echo $__env->make('cms::layouts.backend', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH E:\Laragon\cms\modules\Backend\Providers/../resources/views/backend/media/index.blade.php ENDPATH**/ ?>